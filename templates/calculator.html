<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Django Calculator</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  </head>
  
<body>
  <div class="calc-container">
    <h2>Simple Calculator</h2>

    <form method="post">
      {% csrf_token %}
      <label>First number</label>
      <input type="number" step="any" name="num1" placeholder="e.g. 12.5" required>

      <label>Second number</label>
      <input type="number" step="any" name="num2" placeholder="e.g. 3.14" required>

      <label>Operator</label>
        <select name="operator">
          <option value="+">+</option>
          <option value="-">-</option>
          <option value="*">×</option>
          <option value="/">÷</option>
          <option value="sqrt">√ (square root)</option>
          <option value="pow">x^y (power)</option>
          <option value="log">log (base)</option>
          <option value="sin">sin(x)</option>
          <option value="cos">cos(x)</option>
          <option value="tan">tan(x)</option>
        </select>
        

      <button type="submit">Calculate</button>
    </form>

    {% if result is not None %}
      <div class="result"><strong>Result:</strong> {{ result }}</div>
    {% endif %}

    {% if error %}
      <div class="error"><strong>{{ error }}</strong></div>
    {% endif %}

    {% if history %}
    <div class="result" style="margin-top:20px;">
      <h3>History (last {{ history|length }}):</h3>
      <ul>
        {% for entry in history %}
          <li>{{ entry }}</li>
        {% endfor %}
      </ul>
  </div>
      {% endif %}

  </div>
</body>
</html>
